create table Cliente
(
	Id int auto_increment,
	Codigo varchar (25) not null,
	Nombre varchar (25) not null,
	Baja int not null,
	constraint pk_cliente primary key (Id)
);

create table Usuario
(
	Id int auto_increment,
	Codigo int not null,
	NomUsu varchar (25) not null,
	Estado varchar (10) not null,
	Pass varchar (25) not null,
	constraint pk_usuario primary key (Id)
);

create table Materiales 
(
	Id int auto_increment,
	Codigo int not null,
	Nombre varchar (20) not null,
	Stock int not null,
	Baja int not null,
	constraint pk_materiales primary key (Id)
);

create table Equipo
(
  Id int auto_increment,
  Codigo int not null,
  Chip int not null,
  Serie int not null,
  Tarjeta int not null,
  Modelo varchar (25) not null,
  Baja int not null,
  constraint pk_Equipo primary key (Id)
);

create table Trabajo
(
	Id int auto_increment,
    Tipo varchar (11) not null,
    constraint pk_trabajo primary key (Id)
);
insert into Trabajo values(1,'Instalacion');
insert into Trabajo values(2,'Soporte');

create table DetalleTrabajo
(
	Id int auto_increment,
	Cliente int not null,
	Trabajo int not null,
	Equipo int not null,
	Materiales int not null,
	Cantidad_Materiales int not null,
	Fecha date not null,
	Ot int not null,
	constraint pk_detalletrabajo primary key (Id),
	constraint fk_detalletrabajo_trabajo foreign key (Trabajo) references Trabajo(Id),
	constraint fk_detalletrabajo_Cliente foreign key (Cliente) references Cliente (Id),
	constraint fk_detalletrabajo_Materiales foreign key (Materiales) references Materiales(Id),
	constraint fk_detalletrabajo_Equipo foreign key (Equipo) references Equipo(Id)
);

create table AlmacenTigo
(
	Id int auto_increment,
	Materiales int not null,
	constraint pk_Almacentigo primary key(Id)
);

create table AlmacenRetiro
(
	Id int auto_increment,
	Cliente varchar(20) not null,
    Estado varchar(10) not null,
    constraint pk_almacenretiro primary key (Id)
);




ojo escripts para sacar detalles de la base de datos
SELECT DISTINCT(cliente),Id,trabajo,equipo,COUNT(materiales),COUNT(Cantidad_Materiales),Fecha,Ot 
from detalletrabajo where trabajo = 1
GROUP by cliente
SELECT  DISTINCT(cliente),trabajo,equipo,SUM(materiales),SUM(Cantidad_Materiales),Fecha,Ot 
from detalletrabajo where trabajo = 1
GROUP by cliente

